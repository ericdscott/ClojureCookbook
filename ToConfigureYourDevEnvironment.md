# To Configure Your Dev Environment

Developing software amost always requires that you bring in tooling
and set certain parameters to inform the development process.

Different tooling is typically available on different project
managers. Here we will concentrate (for now) on typical approaches
using the two most popular managers, the Clojure CLI, and Leiningen.

There are also full-featured editors and IDEs. Traditionally using
[Cider under Emacs](#emacs-cider) has been popular among Clojurians,
but [VI](#vi) also has tooling. Under VS Code the [Calva](#calva) project
is gaining popularity. Under IntelliJ, [Cursive](#cursive) is the usual
plugin.

## Supports

- [Creating Software with Clojure]

## Done when

You are satisfied with the ease with which you are developing your projects.

### Some ways to confirm this

Typically you should find it easy to do the usual repetive tasks, for example:
- manage dependencies
- fire up a REPL
- jump around in your code by clicking on the names of things
- run tests
- lint and otherwise critique your code
- create, install and deploy an uberjar or related artifact

## Otherwise
- Options:
  - Command-line managers
    - [Configure the Clojure CLI](#to-configure-the-clojure-cli)
    - [Configure Leiningen](#to-configure-leiningen)
  - Editors/IDEs:
    - [Configure Emacs/Cider](#to-configure-cider)
    - [Configure Vim](#to-configure-vim)
    - [Configure VSCode/Calva](#to-configure-calva)
    - [Configure IntelliJ/Cursive](#to-configure-cursive)
    

## To configure the Clojure CLI

  - [Install the Clojure CLI]
  - Your project is configured with a `deps.edn` file
  - [Identify apppropriate utiities] to enhance your programming experience
  - Documentation for this utility should tell you whether is is
    invoked with a `-M` `-X` `-A` or `-T` option
    - These options vary according to whether your local project's classpath
      is involved, how the entry point in the code is selected, and
      how arguments are passed
  - Options:
    - If the tool in question invoked with an `-X`, `-M` or `-A`
      argument:
      - [Define an alias] in your `~/clojure/deps.edn` for said utility.
        - Aliases declared in this file will be available everywhere on your computer
    - If the utility in question is invoked with a `-T` option 
      - Inspect the set of installed tools with `clojure -Ttools list`
      - [Install the tool] with `clojure -Ttool install ...`

## To configure Leiningen

  - [Install Leiningen](#to-install-leiningen)
  - Your project is configured with a  `project.clj` file
  - [Identify plugins](#finding-leiningen-plugins) to enhance your
    programming experience
  - [Add said plugins](#adding-leiningen-plugins)
  - [Define profiles](#to-define-leiningen-profiles) as needed to address specific use cases


### To install Leiningen

https://leiningen.org/ is the homepage. It is well-documented. See the
`Install` section.

### Leiningen Plugins

Leiningen has been around for a long time, and there are _many_
plugins to automate various development tasks.

#### Finding Leiningen plugins

Consult [the Leiningen plugins listing].

#### Adding Leiningen plugins

Plugins are typically added to your `~/.lein/profiles.clj` file using
this pattern...

```clj
{:user {:plugins [[the/plugin "<version number>"] ...]}}
                  
```

You may tweak the `project.clj` map with parameters for your project
specific to that plugin, per its documentation, for example this specifies the output path for documentation generated by the `codox`:

```clj
(defproject ...
  ...
  :codox {:output-path "doc"}
  ...
)
```

### To define Leiningen profiles

The usual top-level configuration parameters may be extended with
additional parameters for specific use cases by declaring named
`profiles`.

[The Leiningen documentation for profiles] provides a good description.

## To configure Cider

Emacs has a long and storied history amongst Lisp developers
generally. It is _extremely_ powerful, and well worth taking the time
to learn, however there is a non-trivial learning curve. [Cider] is
the go-to emacs package to use for Clojure development. It will launch
REPLs through `nrepl`, and provide for IDE-ish things like code
navigation.

[Cider] will automatically work off of your Clojure CLI `deps.edn`
files or your Leiningen `project.clj`, and usually works fine out of
the box after [importing the
package](https://docs.cider.mx/cider/basics/installation.html) into
your emacs. But being emacs, virtually everything about it can be
tweaked and even re-programmed. Here is a good starting place:

https://docs.cider.mx/cider/config/basic_config.html

## To configure Calva

This is an extension to VS Code which is gaining popularity.

https://calva.io/

Calva can be extended and customized in using Clojure code with
[Joyride](https://calva.io/joyride/).

[Watch this space](https://github.com/ericdscott/ClojureCookbook/issues/19) for more details

## To configure `vim`

Here is a blog post that may be helpful:
https://www.deepbluelambda.org/programming/clojure/programming-clojure-with-vim

[Watch this space](https://github.com/ericdscott/ClojureCookbook/issues/18) for more details.

## To configure Cursive

This is a reasonably-priced extension with a generous free trial period for development under InteliJ.

https://cursive-ide.com/

[Watch this space](https://github.com/ericdscott/ClojureCookbook/issues/20) for more details.


[Creating Software with Clojure]:ToCreateSoftware.md
[Define an alias]:./ToDefineAnAliasInDepsEdn.md
[Identify apppropriate utiities]:./ToIdentifyDevelopmentTools.md
[Install the Clojure CLI]:./ToInstallTheClojureCli.md
[Install the tool]:./ToInstallClojureCLITool.md
[the Leiningen plugins listing]:https://codeberg.org/leiningen/leiningen/wiki/Plugins
[the  Leiningen documentation for profiles]:https://cljdoc.org/d/leiningen/leiningen/2.9.5/doc/profiles
[Cider]:https://github.com/clojure-emacs/cider
